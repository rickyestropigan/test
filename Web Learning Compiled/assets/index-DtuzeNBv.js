import{j as e,r as c,u as A}from"./index-C2citczB.js";import{B as m,L as C}from"./index-DIgD2TSf.js";const P="_questionContent_i0ohx_3",B="_answers_i0ohx_21",E="_answer_i0ohx_21",F="_selected_i0ohx_61",I="_ChoiceBtn_i0ohx_71",x={questionContent:P,answers:B,answer:E,selected:F,ChoiceBtn:I};function S({question:d,option:l,name:p,selectAnswer:_}){const o=(u,r)=>{u.preventDefault(),_([r])};return e.jsxs("div",{className:x.questionContent,children:[e.jsx("h2",{children:d}),e.jsx("div",{className:x.answers,children:l.choices.map((u,r)=>e.jsx(m,{className:`${x.answer} ${Object((l==null?void 0:l.selectedAnswer)??[]).includes(r)?x.selected:""}`,onClick:v=>o(v,r),children:u}))})]})}const V="_surveyForm_u3pqs_1",L="_question_u3pqs_11",k="_active_u3pqs_17",Q="_button_u3pqs_23",D="_question3_u3pqs_1",T="_email_u3pqs_1",z="_tooltip_text_u3pqs_71",M="_hover_text_u3pqs_115",W="_top_u3pqs_1",Z="_inputPosition_u3pqs_141",H="_submit_u3pqs_165",n={surveyForm:V,question:L,active:k,button:Q,question3:D,email:T,tooltip_text:z,hover_text:M,top:W,inputPosition:Z,submit:H},O="_progress_bar_1ofcg_1",R="_progress_1ofcg_1",j={progress_bar:O,progress:R};function U({width:d}){return e.jsx("div",{className:j.progress_bar,children:e.jsx("div",{className:j.progress,id:j.progress,style:{width:`${d}%`??"30%"}})})}function K(){const[d,l]=c.useState(!1),[p,_]=c.useState({isValid:!1,message:""}),[o,u]=c.useState([{title:"How much debt do you owe?",option:{type:"radio",name:"debt",choices:["Less than $10,000","$10,000 - $20,000","More than $20,000"]},active:!0},{title:"What is your gross annual income?",option:{type:"radio",name:"debt",choices:["Under $25,000","$25,000 - $50,000","$50,000 - $75,000","$75,000 - $100,000","More than $100,000"]}}]),[r,v]=c.useState(""),[h,q]=c.useState(0),w=A(),y=s=>{s.preventDefault();const i=o.findIndex(a=>a==null?void 0:a.active);if(o[i].option.selectedAnswer===void 0)return l(!0);const t=i+1;u(o.map((a,f)=>({...a,active:t===f})))},b=s=>{s.preventDefault();const t=o.findIndex(a=>a==null?void 0:a.active)-1;t>-1&&u(o.map((a,f)=>({...a,active:t===f})))},N=(s=[])=>{const i=o.findIndex(t=>t==null?void 0:t.active);console.log(i),console.log(s),u(o.map((t,a)=>a===i?{...t,option:{...t.option,selectedAnswer:s}}:t))},g=s=>String(s).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),$=s=>{if(r!==""&&g(r))w("/thank-you"),console.log(o);else{let i="";console.log(g(r)),g(r)===null&&r!==""?i="Invalid email input please check you email again!":i="Please fill the email field to process your form!",_({isValid:!1,message:i})}};return c.useEffect(()=>{const s=o.findIndex(t=>t==null?void 0:t.active),i=s===-1?o.length:s;q(100/o.length*i)},[o]),c.useEffect(()=>{setTimeout(()=>{l(!1)},5e3)},[d]),c.useEffect(()=>{setTimeout(()=>{_({isValid:!0,message:""})},5e3)},[p]),e.jsx(C,{navmenu:!0,footer:!0,children:e.jsxs("div",{className:"container",style:{marginTop:"10px"},children:[e.jsx("h1",{children:"Q&A Applicant"}),e.jsx(U,{width:h}),h<100&&e.jsxs("form",{id:n.surveyForm,children:[o.map((s,i)=>e.jsx("div",{className:`${n.question} ${s.active?n.active:""}`,id:n.question1,children:e.jsx(S,{question:s.title,option:s.option,selectAnswer:N})},i)),e.jsx("div",{className:"display-flex flex-direction-col-center",children:e.jsxs("div",{className:n.formButton,children:[h>0&&e.jsx(m,{className:n.button,variant:"primary",onClick:b,children:"Previous"}),d&&e.jsx("div",{className:n.hover_text,children:e.jsx("span",{className:n.tooltip_text,id:n.top,children:"Choose an answer to move to the next question."})}),e.jsx(m,{variant:"primary",onClick:y,children:"Next"})]})})]}),h===100&&e.jsx(e.Fragment,{children:e.jsxs("div",{id:n.question3,children:[e.jsx("h2",{for:"email",children:"What's your email?"}),!p.isValid&&e.jsx("div",{className:`${n.hover_text} ${n.inputPosition}`,children:e.jsx("span",{className:n.tooltip_text,id:n.top,children:p.message})}),e.jsx("input",{type:"email",placeholder:"Email",id:n.email,name:"email",onChange:s=>v(s.target.value),required:!0}),e.jsx(m,{className:n.submit,variant:"primary",onClick:$,children:"Submit"})]})})]})})}export{K as default};
